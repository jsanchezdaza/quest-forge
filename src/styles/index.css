@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Silkscreen:wght@400;700&family=JetBrains+Mono:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Orbitron:wght@400;500;600;700;800;900&family=Cinzel:wght@400;500;600;700;800;900&family=Spectral:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&family=Uncial+Antiqua&family=MedievalSharp&family=Cinzel+Decorative:wght@400;700;900&family=Caesar+Dressing&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html, html.dark {
    @apply bg-background-dark text-gray-100;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }
  
  body {
    @apply bg-background-dark text-gray-100 font-pixel-body;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-fantasy-epic;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    letter-spacing: 0.05em;
  }

  h1 { @apply text-2xl sm:text-3xl md:text-4xl; }
  h2 { @apply text-xl sm:text-2xl md:text-3xl; }
  h3 { @apply text-lg sm:text-xl md:text-2xl; }
  h4, h5, h6 { @apply text-base sm:text-lg md:text-xl; }

  /* D&D title class - Minecraft Dungeons style with pixel texture */
  .dnd-title {
    @apply font-dnd uppercase tracking-wider;
    font-weight: 900;
    font-variation-settings: 'wght' 900;
    /* Ultra-pixelated rendering */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
    font-smooth: never;
    text-rendering: geometricPrecision;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    /* Minecraft Dungeons style shadow with depth */
    text-shadow: 
      0 0 10px rgba(212, 175, 55, 0.8),
      0 0 20px rgba(212, 175, 55, 0.5),
      2px 2px 0px #8b6914,
      3px 3px 0px #6b5010,
      4px 4px 0px #4b380b,
      5px 5px 0px #2b2006,
      6px 6px 8px rgba(0, 0, 0, 0.6);
    /* Enhanced brick/block pattern with high contrast */
    background: 
      /* Dark mortar lines (horizontal) - much thicker */
      repeating-linear-gradient(
        0deg,
        #f4d03f 0px,
        #f4d03f 8px,
        #2b2006 8px,
        #2b2006 12px,
        #d4af37 12px,
        #d4af37 20px,
        #2b2006 20px,
        #2b2006 24px
      ),
      /* Dark mortar lines (vertical) - offset brick pattern */
      repeating-linear-gradient(
        90deg,
        #f4d03f 0px,
        #f4d03f 12px,
        #2b2006 12px,
        #2b2006 16px,
        #d4af37 16px,
        #d4af37 28px,
        #2b2006 28px,
        #2b2006 32px,
        #f4d03f 32px,
        #f4d03f 44px,
        #2b2006 44px,
        #2b2006 48px
      ),
      /* Bright golden base */
      linear-gradient(0deg, #f4d03f 0%, #ffeb3b 50%, #f4d03f 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 100% 24px, 48px 100%, 100% 100%;
    /* Slight 3D transform */
    transform: perspective(500px) rotateX(15deg);
    /* Enhanced contrast to make brick texture pop */
    filter: contrast(1.5) saturate(1.3) brightness(1.1);
  }

  /* Responsive background images - balanced overlay */
  .app-background {
    background-image:
      url('/images/backgrounds/desktop-bg.webp'),
      linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65));
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-repeat: no-repeat;
    background-blend-mode: overlay;
  }

  /* Game page background - JPEG version */
  .app-background.game-background {
    background-image: 
      url('/images/backgrounds/desktop-bg.jpeg'),
      linear-gradient(rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08));
  }

  /* Mobile game page background */
  @media (max-width: 768px) {
    .app-background.game-background {
      background-image: 
        url('/images/backgrounds/mobile-bg.jpeg'),
        linear-gradient(rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08));
    }
  }

  /* Mobile background */
  @media (max-width: 768px) {
    .app-background {
      background-image:
        url('/images/backgrounds/mobile-bg.webp'),
        linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65));
    }
  }

  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  .pixelated {
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }
  
  ::-webkit-scrollbar {
    @apply w-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-background-darker;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-medieval-gold rounded-full hover:bg-medieval-darkgold;
  }
}

@layer components {
  .animate-in {
    animation-fill-mode: both;
  }

  .slide-in-from-right-full {
    animation-name: slide-in-from-right;
    animation-duration: 0.3s;
    animation-timing-function: ease-out;
  }

  @keyframes slide-in-from-right {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
}