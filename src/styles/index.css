@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Silkscreen:wght@400;700&family=Pixelify+Sans:wght@400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html, html.dark {
    @apply bg-background-dark text-gray-100;
    /* Improve pixel font rendering */
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }
  
  body {
    @apply bg-background-dark text-gray-100 font-pixel-body;
    /* Aggressive pixel font rendering */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
    font-smooth: never;
    text-rendering: geometricPrecision;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-dnd uppercase;
    /* Ultra-sharp pixel rendering */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
    font-smooth: never;
    text-rendering: geometricPrecision;
    letter-spacing: 0.1em;
  }

  /* D&D style title sizes - larger and more dramatic */
  h1 { @apply text-xl sm:text-2xl lg:text-4xl; }
  h2 { @apply text-lg sm:text-xl lg:text-2xl; }
  h3 { @apply text-base sm:text-lg lg:text-xl; }
  h4, h5, h6 { @apply text-sm sm:text-base lg:text-lg; }

  /* D&D title class - Minecraft Dungeons style with pixel texture */
  .dnd-title {
    @apply font-dnd uppercase tracking-wider;
    font-weight: 900;
    font-variation-settings: 'wght' 900;
    /* Ultra-pixelated rendering */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
    font-smooth: never;
    text-rendering: geometricPrecision;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    /* Minecraft Dungeons style shadow with depth */
    text-shadow: 
      0 0 10px rgba(212, 175, 55, 0.8),
      0 0 20px rgba(212, 175, 55, 0.5),
      2px 2px 0px #8b6914,
      3px 3px 0px #6b5010,
      4px 4px 0px #4b380b,
      5px 5px 0px #2b2006,
      6px 6px 8px rgba(0, 0, 0, 0.6);
    /* Enhanced brick/block pattern with high contrast */
    background: 
      /* Dark mortar lines (horizontal) - much thicker */
      repeating-linear-gradient(
        0deg,
        #f4d03f 0px,
        #f4d03f 8px,
        #2b2006 8px,
        #2b2006 12px,
        #d4af37 12px,
        #d4af37 20px,
        #2b2006 20px,
        #2b2006 24px
      ),
      /* Dark mortar lines (vertical) - offset brick pattern */
      repeating-linear-gradient(
        90deg,
        #f4d03f 0px,
        #f4d03f 12px,
        #2b2006 12px,
        #2b2006 16px,
        #d4af37 16px,
        #d4af37 28px,
        #2b2006 28px,
        #2b2006 32px,
        #f4d03f 32px,
        #f4d03f 44px,
        #2b2006 44px,
        #2b2006 48px
      ),
      /* Bright golden base */
      linear-gradient(0deg, #f4d03f 0%, #ffeb3b 50%, #f4d03f 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 100% 24px, 48px 100%, 100% 100%;
    /* Slight 3D transform */
    transform: perspective(500px) rotateX(15deg);
    /* Enhanced contrast to make brick texture pop */
    filter: contrast(1.5) saturate(1.3) brightness(1.1);
  }

  /* Responsive background images - balanced overlay */
  .app-background {
    background-image: 
      url('/images/backgrounds/desktop-bg.webp'),
      linear-gradient(rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08));
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-repeat: no-repeat;
    background-blend-mode: overlay;
  }

  /* Game page background - JPEG version */
  .app-background.game-background {
    background-image: 
      url('/images/backgrounds/desktop-bg.jpeg'),
      linear-gradient(rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08));
  }

  /* Mobile game page background */
  @media (max-width: 768px) {
    .app-background.game-background {
      background-image: 
        url('/images/backgrounds/mobile-bg.jpeg'),
        linear-gradient(rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08));
    }
  }

  /* Mobile background */
  @media (max-width: 768px) {
    .app-background {
      background-image: 
        url('/images/backgrounds/mobile-bg.webp'),
        linear-gradient(rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08));
    }
  }

  /* All text should be ultra-pixelated */
  * {
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
    font-smooth: never;
    text-rendering: geometricPrecision;
  }
  
  ::-webkit-scrollbar {
    @apply w-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-background-darker;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-medieval-gold rounded-full hover:bg-medieval-darkgold;
  }
}

@layer components {
  /* Pixel text utility classes */
  .text-pixel-label {
    @apply font-pixel-body text-xs text-gray-300 uppercase tracking-wide;
  }
  
  .text-pixel-body-sm {
    @apply font-pixel-body text-sm leading-relaxed;
  }
  
  .text-pixel-heading {
    @apply font-pixel text-xs text-gray-100 leading-relaxed uppercase tracking-wide;
  }

  .btn-primary {
    @apply px-6 py-3 bg-medieval-gold hover:bg-medieval-darkgold text-medieval-inkblack font-pixel uppercase text-xs sm:text-sm rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-medieval-gold/25 transform hover:scale-105;
    /* Ultra-pixel button styling */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
    font-smooth: never;
    text-rendering: geometricPrecision;
    image-rendering: pixelated;
    letter-spacing: 0.05em;
  }
  
  .btn-secondary {
    @apply px-6 py-3 bg-background-card hover:bg-background-modal text-gray-100 border border-medieval-gold/30 hover:border-medieval-gold font-pixel uppercase text-xs sm:text-sm rounded-lg transition-all duration-200;
    /* Ultra-pixel button styling */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
    font-smooth: never;
    text-rendering: geometricPrecision;
    letter-spacing: 0.05em;
  }
  
  .card {
    position: relative;
    border: 2px solid rgba(212, 175, 55, 0.4);
    border-radius: 12px;
    padding: 24px;
    /* Simple transparent background */
    background: rgba(255, 255, 255, 0.1) !important;
    /* Light blur effect */
    backdrop-filter: blur(3px);
    -webkit-backdrop-filter: blur(3px);
    /* Enhanced shadows for depth */
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    z-index: 10;
  }
  
  .input-field {
    @apply w-full px-4 py-3 bg-background-darker border border-medieval-gold/30 focus:border-medieval-gold text-gray-100 rounded-lg transition-colors placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-medieval-gold/20 font-pixel-body text-sm;
    /* Ultra-pixel input styling */
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
    font-smooth: never;
    text-rendering: geometricPrecision;
  }

  /* Toast animations */
  .animate-in {
    animation-fill-mode: both;
  }

  .slide-in-from-right-full {
    animation-name: slide-in-from-right;
    animation-duration: 0.3s;
    animation-timing-function: ease-out;
  }

  @keyframes slide-in-from-right {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
}